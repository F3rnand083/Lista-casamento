
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lista de Casamento ‚Äî Nome 1 & Nome 2</title>
  <meta name="description" content="Site oficial do nosso casamento: data, RSVP e lista de presentes com pagamento parcelado." />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ================= Hero (capa) ================= -->
  <header class="hero">
    <!-- Imagem via link (troque a URL pela foto real do casal) -->
    <img src="https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=2000" alt="Foto do casal" class="hero-photo" />
    <div class="hero-copy">
      <h1 id="heroNomes">Nome 1 &amp; Nome 2</h1>
      <p class="date">15 ‚Ä¢ Novembro ‚Ä¢ 2026 ‚Äî Mogi Mirim, SP</p>
      <a class="btn" href="#lista">Ver Lista de Presentes</a>
      <a class="btn outline" href="#rsvp">Confirmar Presen√ßa (RSVP)</a>
    </div>
  </header>

  <main>
    <!-- ================= Hist√≥ria ================= -->
    <section id="historia" class="section">
      <h2>Nossa Hist√≥ria</h2>
      <p>Um textinho de 3‚Äì5 linhas contando como tudo come√ßou‚Ä¶</p>
    </section>

    <!-- ================= Cerim√¥nia ================= -->
    <section id="cerimonia" class="section">
      <h2>Cerim√¥nia &amp; Recep√ß√£o</h2>
      <ul class="details">
        <li><strong>Data:</strong> 15/11/2026 √†s 16h</li>
        <li><strong>Local:</strong> Espa√ßo {Nome}, Mogi Mirim ‚Äî SP</li>
      </ul>
      <p><a class="btn small" target="_blank" href="https://maps.google.com/?q=Espa√ßo+Nome+Mogi+Mirim">Abrir no Google Maps</a></p>
    </section>

    <!-- ================= Lista de Presentes (cotas) ================= -->
    <section id="lista" class="section">
      <h2>Lista de Presentes (em cotas)</h2>
      <p>Voc√™ pode contribuir com cotas da nossa lua de mel ‚ù§Ô∏è. √â poss√≠vel pagar no cart√£o (com parcelas) ou via Pix.</p>

      <div class="grid">
        <!-- Cota 1 -->
        <article class="cota">
          <figure class="cota-media">
            <img loading="lazy" src="https://images.unsplash.com/photo-1518684079-3c830dcef090?w=1200&q=80" width="600" height="400" alt="Cota de Lua de Mel R$150 ‚Äî hospedagem" />
          </figure>
          <div class="cota-body">
            <h3>Cota de Lua de Mel ‚Äî R$ 150</h3>
            <p>Ajude com nossa hospedagem.</p>
            <div class="cota-actions">
              <a class="btn" href="https://link-de-pagamento-mercadopago.com/checkout?item=cota150" target="_blank" rel="noopener">Pagar com Mercado Pago</a>
              <a class="btn outline" href="https://pag.ae/seu-link-de-pagamento" target="_blank" rel="noopener">PagBank/PagSeguro</a>
            </div>
          </div>
        </article>

        <!-- Cota 2 -->
        <article class="cota">
          <figure class="cota-media">
            <img loading="lazy" src="https://images.unsplash.com/photo-1456613820599-bfe244172af5?w=1200&q=80" width="600" height="400" alt="Cota de Lua de Mel R$300 ‚Äî experi√™ncias" />
          </figure>
          <div class="cota-body">
            <h3>Cota de Lua de Mel ‚Äî R$ 300</h3>
            <p>Experi√™ncias na viagem.</p>
            <div class="cota-actions">
              <a class="btn" href="https://link-de-pagamento-mercadopago.com/checkout?item=cota300" target="_blank" rel="noopener">Pagar com Mercado Pago</a>
              <a class="btn outline" href="https://pag.ae/segundo-link" target="_blank" rel="noopener">PagBank/PagSeguro</a>
            </div>
          </div>
        </article>

        <!-- Cota 3 -->
        <article class="cota">
          <figure class="cota-media">
            <img loading="lazy" src="https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?w=1200&q=80" width="600" height="400" alt="Cota de Lua de Mel R$500 ‚Äî passagens a√©reas" />
          </figure>
          <div class="cota-body">
            <h3>Cota de Lua de Mel ‚Äî R$ 500</h3>
            <p>Passagens a√©reas.</p>
            <div class="cota-actions">
              <a class="btn" href="#" target="_blank" rel="noopener">Pagar com Mercado Pago</a>
              <a class="btn outline" href="#" target="_blank" rel="noopener">PagBank/PagSeguro</a>
            </div>
          </div>
        </article>
      </div>

      <p class="note"><strong>Observa√ß√£o:</strong> Parcelamento dispon√≠vel no cart√£o. Pix parcelado pode aparecer para alguns bancos/contas (sujeito a an√°lise e juros).</p>
    </section>

    <!-- ================= RSVP ================= -->
    <section id="rsvp" class="section">
      <h2>RSVP</h2>
      <iframe src="https://docs.google.com/forms/d/e/SEU_FORM_ID/viewform?embedded=true" width="100%" height="900" frameborder="0" marginheight="0" marginwidth="0">Carregando‚Ä¶</iframe>
    </section>

    <!-- ================= Editor de nomes ================= -->
    <section id="editar-nomes" class="section editor-bloco">
      <h2>Editar nomes dos noivos</h2>
      <form class="edit-names-form" onsubmit="return false;">
        <div class="row">
          <label for="campoNoivoA">Nome 1 *</label>
          <input id="campoNoivoA" type="text" placeholder="Ex.: Luiz" required />
        </div>
        <div class="row">
          <label for="campoNoivoB">Nome 2 *</label>
          <input id="campoNoivoB" type="text" placeholder="Ex.: Ana" required />
        </div>
        <div class="actions">
          <button class="btn" type="button" onclick="SalvarNomes()">Salvar nomes</button>
          <button class="btn outline" type="button" onclick="ResetarNomes()">Restaurar padr√£o</button>
        </div>
        <p class="note">Os nomes atualizam o t√≠tulo, o rodap√© e os bot√µes fixos. As altera√ß√µes ficam salvas neste navegador.</p>
      </form>
    </section>

    <!-- ================= Mensagens ================= -->
    <section id="mensagens" class="section">
      <h2>Deixe sua mensagem para os noivos üíõ</h2>
      <form id="formMensagem" class="guestbook-form" onsubmit="return false;">
        <label for="nome">Seu nome *</label>
        <input type="text" id="nome" required placeholder="Ex: Ana, Carlos..." />

        <label for="mensagem">Sua mensagem *</label>
        <textarea id="mensagem" rows="5" required placeholder="Escreva algo especial..."></textarea>

        <p class="note">Use os bot√µes fixos no canto para escolher para quem enviar (Nome 1, Nome 2 ou Ambos).</p>
      </form>
    </section>

    <!-- ================= Galeria ================= -->
    <section id="galeria" class="section">
      <h2>Galeria</h2>
      <div class="gallery">
        <img loading="lazy" src="https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba?w=1200&q=80" alt="Momento especial" />
      </div>
    </section>
  </main>

  <!-- ================= Rodap√© ================= -->
  <footer class="footer">
    <p>Com carinho, <span id="footerNomes">Nome 1 &amp; Nome 2</span> ‚Ä¢ ¬© 2026</p>
  </footer>

  <!-- ================= Dock fixo (A, B, Ambos) ================= -->
  <div class="fab-dock" aria-label="A√ß√µes de envio pelo WhatsApp">
    <button class="fab primary" type="button" title="Enviar para Nome 1" onclick="enviarWhats('A')">
      <span class="fab-label" id="fabNomeA">Nome 1</span>
    </button>
    <button class="fab secondary" type="button" title="Enviar para Nome 2" onclick="enviarWhats('B')">
      <span class="fab-label" id="fabNomeB">Nome 2</span>
    </button>
    <button class="fab both" type="button" title="Enviar para os dois" onclick="enviarAmbos()">
      <span class="fab-label">Ambos</span>
    </button>
    <button id="fabFallback" class="fab outline" type="button" style="display:none;" onclick="abrirSegundoManual()">
      Abrir 2¬∫ envio
    </button>
  </div>

  <!-- ================= Script ================= -->
  <script>
    // ============ Configura√ß√£o ============
    const NUMERO_A = "5511999999999"; // WhatsApp do Nome 1 (DDI+DDD+n√∫mero)
    const NUMERO_B = "5511988888888"; // WhatsApp do Nome 2 (DDI+DDD+n√∫mero)

    const PADRAO_A = "Nome 1";
    const PADRAO_B = "Nome 2";

    const $ = (sel) => document.querySelector(sel);
    const $heroNomes   = () => $("#heroNomes");
    const $footerNomes = () => $("#footerNomes");
    const $btnNomeA    = () => $("#fabNomeA");
    const $btnNomeB    = () => $("#fabNomeB");
    const $campoA      = () => $("#campoNoivoA");
    const $campoB      = () => $("#campoNoivoB");
    const $fallback    = () => $("#fabFallback");

    let segundoDestino = null;
    let segundoTexto   = null;

    function escapeHtml(s=''){
      return s.replace(/[&<>'"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;',"'":'&#39;','"':'&quot;'}[c]));
    }
    function setTitle(nomeA, nomeB){
      document.title = `Lista de Casamento ‚Äî ${nomeA} & ${nomeB}`;
    }
    function renderNomes(nomeA, nomeB){
      if ($heroNomes())   $heroNomes().innerHTML   = `${escapeHtml(nomeA)} &amp; ${escapeHtml(nomeB)}`;
      if ($footerNomes()) $footerNomes().innerHTML = `${escapeHtml(nomeA)} &amp; ${escapeHtml(nomeB)}`;
      if ($btnNomeA())    $btnNomeA().textContent  = nomeA;
      if ($btnNomeB())    $btnNomeB().textContent  = nomeB;
      setTitle(nomeA, nomeB);
    }
    function carregarNomes(){
      const p = new URLSearchParams(location.search);
      let nomeA = (p.get('noivo') || p.get('nome1') || '').trim();
      let nomeB = (p.get('noiva') || p.get('nome2') || '').trim();
      if(!nomeA || !nomeB){
        const salvo = JSON.parse(localStorage.getItem('nomesCasal') || '{}');
        nomeA = nomeA || salvo.nomeA;
        nomeB = nomeB || salvo.nomeB;
      }
      nomeA = nomeA || PADRAO_A;
      nomeB = nomeB || PADRAO_B;
      if ($campoA()) $campoA().value = nomeA;
      if ($campoB()) $campoB().value = nomeB;
      renderNomes(nomeA, nomeB);
    }
    function SalvarNomes(){
      const nomeA = ($campoA().value || PADRAO_A).trim() || PADRAO_A;
      const nomeB = ($campoB().value || PADRAO_B).trim() || PADRAO_B;
      localStorage.setItem('nomesCasal', JSON.stringify({ nomeA, nomeB }));
      renderNomes(nomeA, nomeB);
    }
    function ResetarNomes(){
      localStorage.removeItem('nomesCasal');
      if ($campoA()) $campoA().value = PADRAO_A;
      if ($campoB()) $campoB().value = PADRAO_B;
      renderNomes(PADRAO_A, PADRAO_B);
    }

    // ============ Envio WhatsApp ============
    function montarTexto(nomeConvidado, mensagem) {
      return `Ol√°! Aqui √© ${encodeURIComponent(nomeConvidado)}. Quero deixar uma mensagem para o casal:%0A%0A${encodeURIComponent(mensagem)}`;
    }
    function abrirWhats(numero, texto){
      const url = `https://wa.me/${numero}?text=${texto}`;
      const win = window.open(url, "_blank");
      return !!win;
    }
    function enviarWhats(dest){
      const nomeConvidado = ($("#nome")?.value || '').trim();
      const mensagem      = ($("#mensagem")?.value || '').trim();
      if (!nomeConvidado || !mensagem) { alert("Preencha seu nome e a mensagem."); return; }
      const numero = dest === 'A' ? NUMERO_A : NUMERO_B;
      const texto  = montarTexto(nomeConvidado, mensagem);
      abrirWhats(numero, texto);
    }
    function enviarAmbos(){
      const nomeConvidado = ($("#nome")?.value || '').trim();
      const mensagem      = ($("#mensagem")?.value || '').trim();
      if (!nomeConvidado || !mensagem) { alert("Preencha seu nome e a mensagem."); return; }
      const texto = montarTexto(nomeConvidado, mensagem);
      segundoDestino = NUMERO_B;
      segundoTexto   = texto;
      const abriuPrimeiro = abrirWhats(NUMERO_A, texto);
      setTimeout(() => {
        const abriuSegundo = abrirWhats(segundoDestino, segundoTexto);
        if(!abriuSegundo && $fallback()){
          $fallback().style.display = 'inline-flex';
        }
      }, 1200);
    }
    function abrirSegundoManual(){
      if (segundoDestino && segundoTexto){ abrirWhats(segundoDestino, segundoTexto); }
      if ($fallback()){ $fallback().style.display = 'none'; }
    }

    document.addEventListener('DOMContentLoaded', carregarNomes);
  </script>
</body>
</html>
